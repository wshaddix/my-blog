<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8" />

  
  <title>Visualizing a Docker Swarm Cluster</title>

  
  





  
  <meta name="author" content="Wes Shaddix" />
  <meta name="description" content="[Updated] 12&amp;frasl;31 - Updated instructions to leverage the load balancer configuration that we added to the swarm cluster.
Goal In a previous blog post I setup a docker swarm cluster. Now I want a way to visualize what the swarm cluster looks like. How many nodes I have and which containers are running. Also as I change the state of the swarm cluster through docker commands I&amp;rsquo;d like to visualize what is actually happening." />

  
  
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@wshaddix" />
    <meta name="twitter:title" content="Visualizing a Docker Swarm Cluster" />
    <meta name="twitter:description" content="[Updated] 12&amp;frasl;31 - Updated instructions to leverage the load balancer configuration that we added to the swarm cluster.
Goal In a previous blog post I setup a docker swarm cluster. Now I want a way to visualize what the swarm cluster looks like. How many nodes I have and which containers are running. Also as I change the state of the swarm cluster through docker commands I&amp;rsquo;d like to visualize what is actually happening." />
    <meta name="twitter:image" content="http://www.wesshaddix.com/img/avatar.jpg" />
  




<meta name="generator" content="Hugo 0.31.1" />


<link rel="canonical" href="http://www.wesshaddix.com/post/visualizing-a-docker-swarm-cluster/" />
<link rel="alternative" href="http://www.wesshaddix.com/index.xml" title="Wes Shaddix" type="application/atom+xml" />


<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="format-detection" content="telephone=no,email=no,adress=no" />
<meta http-equiv="Cache-Control" content="no-transform" />


<meta name="robots" content="index,follow" />
<meta name="referrer" content="origin-when-cross-origin" />







<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-title" content="Wes Shaddix" />
<meta name="msapplication-tooltip" content="Wes Shaddix" />
<meta name='msapplication-navbutton-color' content="#5fbf5e" />
<meta name="msapplication-TileColor" content="#5fbf5e" />
<meta name="msapplication-TileImage" content="/img/tile-image-windows.png" />
<link rel="icon" href="http://www.wesshaddix.com/img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="http://www.wesshaddix.com/img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="http://www.wesshaddix.com/img/favicon-32x32.png" />
<link rel="icon" sizes="192x192" href="http://www.wesshaddix.com/img/touch-icon-android.png" />
<link rel="apple-touch-icon" href="http://www.wesshaddix.com/img/touch-icon-apple.png" />
<link rel="mask-icon" href="http://www.wesshaddix.com/img/safari-pinned-tab.svg" color="#5fbf5e" />



<link rel="stylesheet" href="//cdn.bootcss.com/video.js/6.2.8/alt/video-js-cdn.min.css" />

<link rel="stylesheet" href="http://www.wesshaddix.com/css/bundle.css" />
<link rel="stylesheet" href="http://www.wesshaddix.com/css/custom.css" />


  
  <!--[if lt IE 9]>
    <script src="//cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <script src="//cdn.bootcss.com/video.js/6.2.8/ie8/videojs-ie8.min.js"></script>
  <![endif]-->

<!--[if lte IE 11]>
    <script src="//cdn.bootcss.com/classlist/1.1.20170427/classList.min.js"></script>
  <![endif]-->


<script src="//cdn.bootcss.com/object-fit-images/3.2.3/ofi.min.js"></script>


<script src="//cdn.bootcss.com/smooth-scroll/12.1.4/js/smooth-scroll.polyfills.min.js"></script>


</head>
  <body>
    
    <div class="suspension">
      <a title="Go to top" class="to-top is-hide"><span class="icon icon-up"></span></a>
      
        
        <a title="Go to comments" class="to-comment" href="#disqus_thread"><span class="icon icon-comment"></span></a>
        
      
    </div>
    
    
  <header class="site-header">
  <img class="avatar" src="http://www.wesshaddix.com/img/avatar.jpg" alt="Avatar">
  
  <h2 class="title">Wes Shaddix</h2>
  
  <p class="subtitle"></p>
  <button class="menu-toggle" type="button">
    <span class="icon icon-menu"></span>
  </button>
  <nav class="site-menu collapsed">
    <h2 class="offscreen">Main Menu</h2>
    <ul class="menu-list">
      
      
      
      
        <li class="menu-item
            
            
            
              is-active
            ">
            <a href="http://www.wesshaddix.com/">My Blog</a>
          </li>
      
        <li class="menu-item
            
            
            ">
            <a href="https://github.com/wshaddix">My Projects</a>
          </li>
      
        <li class="menu-item
            
            
            ">
            <a href="http://www.wesshaddix.com/tags/">Tags</a>
          </li>
      
    </ul>
  </nav>
  <nav class="social-menu collapsed">
    <h2 class="offscreen">Social Networks</h2>
    <ul class="social-list">

      
      <li class="social-item">
        <a href="mailto:wes.shaddix@outlook.com" title="Email"><span class="icon icon-email"></span></a>
      </li>

      
      <li class="social-item">
        <a href="//github.com/wshaddix" title="GitHub"><span class="icon icon-github"></span></a>
      </li>

      <li class="social-item">
        <a href="//twitter.com/wshaddix" title="Twitter"><span class="icon icon-twitter"></span></a>
      </li>

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <li class="social-item">
        <a href="http://www.wesshaddix.com/index.xml"><span class="icon icon-rss" title="RSS"></span></a>
      </li>

    </ul>
  </nav>
</header>

  <section class="main post-detail">
    <header class="post-header">
      <h1 class="post-title">Visualizing a Docker Swarm Cluster</h1>
      <p class="post-meta">@Wes Shaddix · Dec 31, 2017 · 1 min read</p>
    </header>
    <article class="post-content">

<p><strong>[Updated] <sup>12</sup>&frasl;<sub>31</sub> - Updated instructions to leverage the load balancer configuration that we added to the swarm cluster.</strong></p>

<h1 id="goal">Goal</h1>

<p>In a <a href="http://www.wesshaddix.com/post/three-node-docker-swarm-cluster/">previous blog post</a> I setup a docker swarm cluster. Now I want a way to visualize what the swarm cluster looks like. How many nodes I have and which containers are running. Also as I change the state of the swarm cluster through docker commands I&rsquo;d like to visualize what is actually happening.</p>

<h2 id="the-solution">The solution</h2>

<p>There is a docker image named <code>dockersamples/visualizer</code> that will give you a url that you can go to in order to view your swarm cluster. We will run this as a service on our cluster and bind it to run on <strong>just the manager node</strong> and not on the workers.</p>

<h3 id="install-the-visualizer-service">Install the visualizer service</h3>

<p>Connect to your docker swarm manager node and setup a new service using the visualizer image. We are going to expose the visualizer on port 80 which we already opened up in both the network security group and the load balancer from the previous post.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">docker service create \
  --name=viz \
  --publish=80<span style="color:#960050;background-color:#1e0010">:</span>8080/tcp \
  --constraint=node.role==manager \
  --mount=type=bind,src=/var/run/docker.sock,dst=/var/run/docker.sock \
  dockersamples/visualizer</code></pre></div>
<h3 id="verify-that-it-works">Verify that it works</h3>

<p>If you navigate to <a href="http://your-swarm-cluster">http://your-swarm-cluster</a> you will see what it looks like.</p>
</article>
    <footer class="post-footer">
      
      <ul class="post-tags">
        
          <li><a href="http://www.wesshaddix.com/tags/docker"><span class="tag">Docker</span></a></li>
        
          <li><a href="http://www.wesshaddix.com/tags/docker-swarm"><span class="tag">Docker-Swarm</span></a></li>
        
          <li><a href="http://www.wesshaddix.com/tags/visualizer"><span class="tag">Visualizer</span></a></li>
        
      </ul>
      
      <p class="post-copyright">
        © This post is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License. Please give a reference to this source if you would like to quote or reproduce.
      </p>
    </footer>
    
      <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "wesshaddix" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
    
  </section>
  <footer class="site-footer">
  <p>© 2017 Wes Shaddix</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/laozhu/hugo-nuo" target="_blank">Nuo</a>.</p>
  
</footer>



<script async src="//cdn.bootcss.com/video.js/6.2.8/alt/video.novtt.min.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\[','\]']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"] }
    }
  });
</script>
<script type="text/x-mathjax-config">
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  MathJax.Hub.Queue(() => {
    MathJax.Hub.getAllJax().map(v => v.SourceElement().parentNode.className += ' has-jax');
  });
</script>

<script src="http://www.wesshaddix.com/js/bundle.js"></script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-587905-4', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>





  </body>
</html>
